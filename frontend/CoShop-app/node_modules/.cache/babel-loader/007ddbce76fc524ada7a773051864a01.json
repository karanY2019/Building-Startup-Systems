{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\april\\\\OneDrive\\\\Desktop\\\\CT2021\\\\Building-Startup-Systems\\\\frontend\\\\CoShop-app\\\\src\\\\components\\\\common\\\\Collections\\\\Collection3.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Slider from \"react-slick\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport ProductItems from \"../product-box/ProductBox1\";\nimport { Row, Col, Container, Media } from \"reactstrap\";\nimport CartContext from \"../../../helpers/cart\";\nimport { WishlistContext } from \"../../../helpers/wishlist/WishlistContext\";\nimport PostLoader from \"../PostLoader\";\nimport { CompareContext } from \"../../../helpers/Compare/CompareContext\"; // import search from \"../../../public/assets/images/empty-search.jpg\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GET_PRODUCTS = gql`\n  query products($type: _CategoryType!, $indexFrom: Int!, $limit: Int!) {\n    products(type: $type, indexFrom: $indexFrom, limit: $limit) {\n      items {\n        id\n        title\n        description\n        type\n        brand\n        category\n        price\n        new\n        stock\n        sale\n        discount\n        variants {\n          id\n          sku\n          size\n          color\n          image_id\n        }\n        images {\n          image_id\n          id\n          alt\n          src\n        }\n      }\n    }\n  }\n`;\n\nconst TopCollection = ({\n  type,\n  title,\n  subtitle,\n  designClass,\n  noSlider,\n  cartClass,\n  productSlider,\n  titleClass,\n  noTitle,\n  innerClass,\n  inner,\n  backImage\n}) => {\n  _s();\n\n  const context = useContext(CartContext);\n  const contextWishlist = useContext(WishlistContext);\n  const comapreList = useContext(CompareContext);\n  const quantity = context.quantity;\n  const [delayProduct, setDelayProduct] = useState(true);\n  var {\n    loading,\n    data\n  } = useQuery(GET_PRODUCTS, {\n    variables: {\n      type: type,\n      indexFrom: 0,\n      limit: 8\n    }\n  }); // useEffect(() => {\n  //   if (data === undefined) {\n  //     noSlider === false;\n  //   } else {\n  //     noSlider === true;\n  //   }\n  //   setTimeout(() => {\n  //     setDelayProduct(false);\n  //   }, 1);\n  // }, [delayProduct]);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: designClass,\n      children: noSlider ? /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [noTitle === \"null\" ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: innerClass,\n              children: [subtitle ? /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: subtitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: inner,\n                children: title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this), titleClass ? /*#__PURE__*/_jsxDEV(\"hr\", {\n                role: \"tournament6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this), delayProduct ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mx-0 margin-default\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Slider, { ...productSlider,\n              className: \"product-m no-arrow\",\n              children: data && data.products.items.map((product, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(ProductItems, {\n                  product: product,\n                  title: title,\n                  addWishlist: () => contextWishlist.addToWish(product),\n                  addCart: () => context.addToCart(product, quantity),\n                  addCompare: () => comapreList.addToCompare(product),\n                  cartClass: cartClass,\n                  backImage: backImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 27\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [title ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title1 title-gradient  section-t-space\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"title-inner1\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            role: \"tournament6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"margin-default\",\n            children: !data || !data.products || !data.products.items || !data.products.items.length === 0 || loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row margin-default\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-xl-3 col-lg-4 col-6\",\n                children: /*#__PURE__*/_jsxDEV(PostLoader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this) : data && data.products.items.slice(0, 8).map((product, index) => /*#__PURE__*/_jsxDEV(Col, {\n              xl: \"3\",\n              sm: \"6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(ProductItems, {\n                  product: product,\n                  backImage: backImage,\n                  addCompare: () => comapreList.addToCompare(product),\n                  addWishlist: () => contextWishlist.addToWish(product),\n                  title: title,\n                  cartClass: cartClass,\n                  addCart: () => context.addToCart(product, quantity)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(TopCollection, \"uvlpbsXtVlY/x+JXJRd+aLxWzHY=\", false, function () {\n  return [useQuery];\n});\n\n_c = TopCollection;\nexport default TopCollection;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopCollection\");","map":{"version":3,"sources":["C:/Users/april/OneDrive/Desktop/CT2021/Building-Startup-Systems/frontend/CoShop-app/src/components/common/Collections/Collection3.js"],"names":["React","useContext","useEffect","useState","Slider","useQuery","gql","ProductItems","Row","Col","Container","Media","CartContext","WishlistContext","PostLoader","CompareContext","GET_PRODUCTS","TopCollection","type","title","subtitle","designClass","noSlider","cartClass","productSlider","titleClass","noTitle","innerClass","inner","backImage","context","contextWishlist","comapreList","quantity","delayProduct","setDelayProduct","loading","data","variables","indexFrom","limit","products","items","map","product","i","addToWish","addToCart","addToCompare","length","slice","index"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\nimport ProductItems from \"../product-box/ProductBox1\";\r\nimport { Row, Col, Container, Media } from \"reactstrap\";\r\nimport CartContext from \"../../../helpers/cart\";\r\nimport { WishlistContext } from \"../../../helpers/wishlist/WishlistContext\";\r\nimport PostLoader from \"../PostLoader\";\r\nimport { CompareContext } from \"../../../helpers/Compare/CompareContext\";\r\n// import search from \"../../../public/assets/images/empty-search.jpg\";\r\n\r\nconst GET_PRODUCTS = gql`\r\n  query products($type: _CategoryType!, $indexFrom: Int!, $limit: Int!) {\r\n    products(type: $type, indexFrom: $indexFrom, limit: $limit) {\r\n      items {\r\n        id\r\n        title\r\n        description\r\n        type\r\n        brand\r\n        category\r\n        price\r\n        new\r\n        stock\r\n        sale\r\n        discount\r\n        variants {\r\n          id\r\n          sku\r\n          size\r\n          color\r\n          image_id\r\n        }\r\n        images {\r\n          image_id\r\n          id\r\n          alt\r\n          src\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst TopCollection = ({\r\n  type,\r\n  title,\r\n  subtitle,\r\n  designClass,\r\n  noSlider,\r\n  cartClass,\r\n  productSlider,\r\n  titleClass,\r\n  noTitle,\r\n  innerClass,\r\n  inner,\r\n  backImage,\r\n}) => {\r\n  const context = useContext(CartContext);\r\n  const contextWishlist = useContext(WishlistContext);\r\n  const comapreList = useContext(CompareContext);\r\n  const quantity = context.quantity;\r\n  const [delayProduct, setDelayProduct] = useState(true);\r\n\r\n  var { loading, data } = useQuery(GET_PRODUCTS, {\r\n    variables: {\r\n      type: type,\r\n      indexFrom: 0,\r\n      limit: 8,\r\n    },\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   if (data === undefined) {\r\n  //     noSlider === false;\r\n  //   } else {\r\n  //     noSlider === true;\r\n  //   }\r\n  //   setTimeout(() => {\r\n  //     setDelayProduct(false);\r\n  //   }, 1);\r\n  // }, [delayProduct]);\r\n  \r\n  return (\r\n    <>\r\n      <section className={designClass}>\r\n        {noSlider ? (\r\n          <Container>\r\n            <Row>\r\n              <Col>\r\n                {noTitle === \"null\" ? (\r\n                  \"\"\r\n                ) : (\r\n                  <div className={innerClass}>\r\n                    {subtitle ? <h4>{subtitle}</h4> : \"\"}\r\n                    <h2 className={inner}>{title}</h2>\r\n                    {titleClass ? (\r\n                      <hr role=\"tournament6\" />\r\n                    ) : (\r\n                      <div className=\"line\"></div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {delayProduct ? (\r\n                  <div className=\"row mx-0 margin-default\">\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <Slider {...productSlider} className=\"product-m no-arrow\">\r\n                    {data &&\r\n                      data.products.items.map((product, i) => (\r\n                        <div key={i}>\r\n                          <ProductItems\r\n                            product={product}\r\n                            title={title}\r\n                            addWishlist={() =>\r\n                              contextWishlist.addToWish(product)\r\n                            }\r\n                            addCart={() => context.addToCart(product, quantity)}\r\n                            addCompare={() => comapreList.addToCompare(product)}\r\n                            cartClass={cartClass}\r\n                            backImage={backImage}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                  </Slider>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        ) : (\r\n          <>\r\n            {title ? (\r\n              <div className=\"title1 title-gradient  section-t-space\">\r\n                <h4>{subtitle}</h4>\r\n                <h2 className=\"title-inner1\">{title}</h2>\r\n                <hr role=\"tournament6\" />\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <Container>\r\n              <Row className=\"margin-default\">\r\n                {!data ||\r\n                !data.products ||\r\n                !data.products.items ||\r\n                !data.products.items.length === 0 ||\r\n                loading ? (\r\n                  <div className=\"row margin-default\">\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                    <div className=\"col-xl-3 col-lg-4 col-6\">\r\n                      <PostLoader />\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  data &&\r\n                  data.products.items.slice(0, 8).map((product, index) => (\r\n                    <Col xl=\"3\" sm=\"6\" key={index}>\r\n                      <div>\r\n                        <ProductItems\r\n                          product={product}\r\n                          backImage={backImage}\r\n                          addCompare={() => comapreList.addToCompare(product)}\r\n                          addWishlist={() => contextWishlist.addToWish(product)}\r\n                          title={title}\r\n                          cartClass={cartClass}\r\n                          addCart={() => context.addToCart(product, quantity)}\r\n                          key={index}\r\n                        />\r\n                      </div>\r\n                    </Col>\r\n                  ))\r\n                )}\r\n              </Row>\r\n            </Container>\r\n          </>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TopCollection;\r\n"]},"metadata":{},"sourceType":"module"}